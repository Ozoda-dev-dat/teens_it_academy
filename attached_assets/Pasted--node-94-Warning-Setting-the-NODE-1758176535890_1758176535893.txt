==> ///////////////////////////////////////////////////////////
(node:94) Warning: Setting the NODE_TLS_REJECT_UNAUTHORIZED environment variable to '0' makes TLS connections and HTTPS requests insecure by disabling certificate verification.
(Use `node --trace-warnings ...` to show where the warning was created)
6:12:11 AM [express] GET /api/user 304 in 289ms :: {"id":"23c1ad01-dbdc-4190-ad2c-20397930190e","rol…
6:12:11 AM [express] GET /api/groups/d0217947-26c6-401a-b834-bea1a5f669bf/students 304 in 471ms :: […
6:12:12 AM [express] GET /api/groups/d0217947-26c6-401a-b834-bea1a5f669bf 304 in 471ms :: {"id":"d02…
6:13:06 AM [express] GET /api/user 304 in 281ms :: {"id":"23c1ad01-dbdc-4190-ad2c-20397930190e","rol…
6:13:07 AM [express] GET /api/teachers/dashboard 304 in 667ms :: {"groups":[{"id":"d0217947-26c6-401…
6:13:21 AM [express] GET /api/groups/d0217947-26c6-401a-b834-bea1a5f669bf/students 304 in 1035ms :: …
6:13:22 AM [express] GET /api/groups/d0217947-26c6-401a-b834-bea1a5f669bf 304 in 469ms :: {"id":"d02…
Received attendance data: {
  groupId: 'd0217947-26c6-401a-b834-bea1a5f669bf',
  participants: [
    {
      studentId: '5711ebdb-44e7-4a62-976f-e4260c881f75',
      status: 'arrived'
    },
    {
      studentId: '5f4c2f93-0d86-41aa-90f2-46a6d9eb732a',
      status: 'arrived'
    },
    {
      studentId: 'afd95a6a-58b9-48f7-b59f-691bb8a4455d',
      status: 'arrived'
    },
    {
      studentId: '91393ba4-a6cd-47a6-8abb-efe853eb1aa2',
      status: 'arrived'
    },
    {
      studentId: '849d0fe6-1ca5-4120-b5ee-e4d00387a740',
      status: 'arrived'
    }
  ],
  date: '2025-09-18T06:11:39.337Z'
}
Parsed attendance data: {
  groupId: 'd0217947-26c6-401a-b834-bea1a5f669bf',
  date: 2025-09-18T06:11:39.337Z,
  participants: [
    {
      studentId: '5711ebdb-44e7-4a62-976f-e4260c881f75',
      status: 'arrived'
    },
    {
      studentId: '5f4c2f93-0d86-41aa-90f2-46a6d9eb732a',
      status: 'arrived'
    },
    {
      studentId: 'afd95a6a-58b9-48f7-b59f-691bb8a4455d',
      status: 'arrived'
    },
    {
      studentId: '91393ba4-a6cd-47a6-8abb-efe853eb1aa2',
      status: 'arrived'
    },
    {
      studentId: '849d0fe6-1ca5-4120-b5ee-e4d00387a740',
      status: 'arrived'
    }
  ]
}
Error awarding bronze medals for attendance: error: null value in column "month_year" of relation "medal_awards" violates not-null constraint
    at /opt/render/project/src/node_modules/pg/lib/client.js:545:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async <anonymous> (/opt/render/project/src/server/storage.ts:223:7)
    at async NodePgSession.transaction (/opt/render/project/src/node_modules/src/node-postgres/session.ts:193:19)
    at async DatabaseStorage.awardMedalsSafely (/opt/render/project/src/server/storage.ts:198:12)
    at async awardBronzeMedalsForAttendance (/opt/render/project/src/server/routes.ts:54:25)
    at async <anonymous> (/opt/render/project/src/server/routes.ts:373:9) {
  length: 381,
  severity: 'ERROR',
  code: '23502',
  detail: 'Failing row contains (ee29d004-36ad-4325-95ee-d3fd794a19b1, 5711ebdb-44e7-4a62-976f-e4260c881f75, bronze, null, 1, attendance, 8edc6cd0-0e3d-41d6-8276-3ad5a543ddb5, 2025-09-18 06:13:33.813488).',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'medal_awards',
  column: 'month_year',
  dataType: undefined,
  constraint: undefined,
  file: 'execMain.c',
  line: '1997',
  routine: 'ExecConstraints'
}
6:13:34 AM [express] POST /api/attendance 201 in 2762ms :: {"id":"8edc6cd0-0e3d-41d6-8276-3ad5a543dd…
6:13:45 AM [express] GET /api/groups/d0217947-26c6-401a-b834-bea1a5f669bf/students 304 in 474ms :: […
6:13:46 AM [express] GET /api/groups/d0217947-26c6-401a-b834-bea1a5f669bf/students 304 in 470ms :: […
6:14:07 AM [express] PUT /api/teachers/medals 404 in 848ms
==> Detected service running on port 10000
==> Docs on specifying a port: https://render.com/docs/web-services#port-binding
6:21:18 AM [express] PUT /api/teachers/medals 404 in 945ms